#!$SHELL
PATH=${PATH}:~/bin:~/.gem/ruby/1.9.1/bin
export EDITOR="vim"
export LESS="$LESS -iRs"

alias vi='vim'
alias ls='ls --color=auto'
alias grep='grep --colour=auto'
alias x='startx'
alias ta='tmux a -d > /dev/null || tmux'
alias dps='ssh -t david@projecthq.biz screen -raAd'
alias awdb='Xephyr -ac -br -noreset -screen 800:600 :1 & export DISPLAY=":1.0" PS1="\[\e[0;31m\]AWDB ${PS1}" ; sleep 2 && awesome &'
alias undb='killall Xephyr ; export DISPLAY=":0.0" PS1=${PS1##*AWDB }'
alias mtr='mtr --curses'
alias myip='elinks -dump checkip.dyndns.org'
alias chroothere='sudo mount -R /dev dev && sudo mount -t proc{,,} && sudo mount -t sys{fs,fs,} && sudo chroot . /bin/bash ; sudo umount dev/* dev sys proc'

# Keychain
ssh_keys=$(find ~/.ssh -name id_\* -and -not -name \*.pub)
if [[ $EUID -gt 1 ]] ; then
    if [[ -x $(which keychain) ]] ; then
        eval $(keychain --eval -q ~/.ssh/cao_key ${ssh_keys})
    fi
fi

# Virtualenvwrapper
if [[ -f $(which virtualenvwrapper.sh) ]] ; then
    WORKON_HOME=~/.virtualenvs
    source $(which virtualenvwrapper.sh)
fi

function toweb () {
    if [ -n $1 ] ; then
        rsync -SHPcavy $* melch:public_html/
        for x in $* ; do
            echo "http://dpflug.udderweb.com/${x}"
        done
    else
        echo "What should be sent?"
    fi
}

function dump () {
    if [ -n $1 ] ; then
        rsync -SHPcavy $* uw:dump/
        for x in $* ; do
            echo "http://dump.udderweb.com/${x}"
        done
    else
        echo "What should be sent?"
    fi
}

function opng () {
    if [ -n $1 ] ; then
        optipng -o7 -zw32k -p $*
    fi
}
