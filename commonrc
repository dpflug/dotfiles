#!$SHELL
PATH=${PATH}:~/bin:~/.gem/ruby/1.9.1/bin
export EDITOR="vim"
export LESS="$LESS -iRs"
export LC_ALL=
export LC_COLLATE="C"

alias vi='vim'
alias ls='ls --color=auto'
alias grep='grep --colour=auto'
alias x='startx'
alias ta='tmux a -d > /dev/null || tmux'
alias dps='ssh -t david@projecthq.biz screen -raAd'
alias awdb='Xephyr -ac -br -noreset -screen 800:600 :1 & export DISPLAY=":1.0" PS1="\[\e[0;31m\]AWDB ${PS1}" ; sleep 2 && awesome &'
alias undb='killall Xephyr ; export DISPLAY=":0.0" PS1=${PS1##*AWDB }'
alias mtr='mtr --curses'
alias myip='curl icanhazip.com'
alias chroothere='sudo mount -R /dev dev && sudo mount -t proc{,,} && sudo mount -t sys{fs,fs,} && sudo chroot . /bin/bash ; sudo umount dev/* dev sys proc'
alias ws='sudo wifi-select wlan0'
alias o='xdg-open'
alias aurup='makepkg -S; burp $(source PKGBUILD; echo ${pkgname}-${pkgver}-${pkgrel}.src.tar.gz)'

#Games :)
alias megarace='dosbox -conf ~/dosbox/MEGARACE/dosbox-0.74.conf -c "mount c ~/dosbox" -c "mount e ~/dosbox/megarace_cd" -c c: -c "cd MEGARACE" MEGARACE.BAT'
#alias engage=""
#play -n -c1 synth whitenoise lowpass -1 120 lowpass -1 120 lowpass -1 120 gain +14
#play -n -c1 synth whitenoise band 100 20 compand .3,.8 -1,-10 gain +20
#play -n -c1 synth whitenoise band -n 100 20 band -n 50 20 gain +25  fade h 1 864000 1

# Keychain
ssh_keys=$(find ~/.ssh -name id_\* -and \! -name \*.pub)
#gpg_keys=$(gpg -K | grep 'sec ' | awk '{ print $2 }' | cut -d'/' -f 2)
gpg_keys=""

if [[ $EUID -gt 1 ]] ; then
    if [[ -x $(which keychain) ]] ; then
        eval $(keychain --eval -q ~/.ssh/cao_key ${ssh_keys} ${gpg_keys})
    fi
fi

# Virtualenvwrapper
if [[ -f $(which virtualenvwrapper.sh) ]] ; then
    WORKON_HOME=~/.virtualenvs
    source $(which virtualenvwrapper.sh)
fi

function toweb () {
    if [ -n $1 ] ; then
        rsync -SHPcavy $* melch:public_html/
        for x in $* ; do
            echo "http://dpflug.udderweb.com/$(basename ${x} | sed 's/ /%20/g')"
        done
    else
        echo "What should be sent?"
    fi
}

function dump () {
    if [ -n $1 ] ; then
        rsync -SHPcavy $* uw:dump/
        for x in $* ; do
            echo "http://dump.udderweb.com/$(basename ${x} | sed 's/ /%20/g')"
        done
    else
        echo "What should be sent?"
    fi
}

function opng () {
    if [ -n $1 ] ; then
        optipng -o7 -zw32k -p $*
    fi
}

function wp () {
    if [ -n $1 ] ; then
        opng $* ; mv -i $* ~/.config/awesome/theme/wallpapers/
    fi
}

if [[ -a ~/.commonrc_local ]] ; then
    source ~/.commonrc_local
fi
